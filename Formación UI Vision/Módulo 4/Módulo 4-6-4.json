{
    "Name": "Módulo 4-6-4",
    "CreationDate": "2025-12-1",
    "Commands": [
        {
            "Command": "csvReadArray",
            "Target": "contenido2-2.csv",
            "Value": "contenido",
            "Description": "Cargar todo el CSV en un array"
        },
        {
            "Command": "forEach",
            "Target": "contenido",
            "Value": "fila",
            "Description": "Iterar por cada fila del CSV"
        },
        {
            "Command": "open",
            "Target": "https://for-pd-portal-jda.apps.paas-pro.junta-andalucia.es/node/${fila[4]}/edit?destination=/admin/content",
            "Value": "",
            "Description": "Abrir página de creación de Novedades"
        },
        {
            "Command": "pause",
            "Target": "5000",
            "Value": "",
            "Description": ""
        },
        {
            "Command": "storeTitle",
            "Target": "",
            "Value": "pageTitle",
            "Description": "1. Almacenar el título de la página (para buscar errores 404)."
        },
        {
            "Command": "if",
            "Target": "${pageTitle} == 'Página no encontrada - Junta de Andalucía'",
            "Value": "",
            "Description": "2. Comprobar si el título contiene un error de nodo no existente."
        },
        {
            "Command": "echo",
            "Target": "El nodo ${fila[4]} ya fue eliminado o no existe. Saltando la eliminación.",
            "Value": "red",
            "Description": "3. Mostrar mensaje de advertencia."
        },
        {
            "Command": "gotoLabel",
            "Target": "CONTINUAR_CSV",
            "Value": "",
            "Description": "4. Saltar los comandos de eliminación e ir al siguiente ítem."
        },
        {
            "Command": "end",
            "Target": "",
            "Value": "",
            "Description": "5. Cierre del IF."
        },
        {
            "Command": "click",
            "Target": "id=edit-delete",
            "Value": "",
            "Description": "Click en el campo de crear el TC Novedad"
        },
        {
            "Command": "pause",
            "Target": "1000",
            "Value": "",
            "Description": ""
        },
        {
            "Command": "click",
            "Target": "css=.form-actions > button.form-submit",
            "Value": "",
            "Description": "Click en el campo de crear el TC Novedad"
        },
        {
            "Command": "label",
            "Target": "CONTINUAR_CSV",
            "Value": "",
            "Description": "Punto de salto: Aquí continúa el bucle forEach con la siguiente fila."
        },
        {
            "Command": "pause",
            "Target": "7000",
            "Value": "",
            "Description": ""
        },
        {
            "Command": "end",
            "Target": "forEach",
            "Value": "",
            "Description": "Fin del bucle"
        },
        {
            "Command": "echo",
            "Target": "✅ Proceso completado: ${contenido.length} filas modificadas",
            "Value": "blue",
            "Description": "Mensaje final"
        }
    ]
}